<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwerveShot</title>


    <script type="module">
        import * as CONSTANTS from "../shared/CONSTANTS.js";
        import { Vec2 } from "../shared/Vec2.js";
        window.CONSTANTS = CONSTANTS;
        window.Vec2 = Vec2;
    </script>

    <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">


    <link rel="stylesheet" href="index.css">
</head>

<body>
    <div id="menu">
        <span id="title">SwerveShot</span>
        <div id="buttons">
            <div>
                <button class="menu-btn" id="oneVOneBtn"><span>1v1</span></button>
                <button class="menu-btn" id="twoVTwoBtn"><span>2v2</span></button>
                <button class="menu-btn" id="threeVThreeBtn"><span>3v3</span></button>
            </div>
            <div>
                <button class="menu-btn" id="privateBtn"><span>Private</span></button>
                <button class="menu-btn" id="botsBtn"><span>Bots!</span></button>

            </div>
        </div>

        <div id="searching">
            <div>
                <span>Searching...</span>
                <span class="spinner"></span>
            </div>
            <!-- <span id="playerCount">-</span> -->
        </div>

        <div id="username">
            <span>Username:</span>
            <input id="usernameInp">
        </div>
    </div>

    <div id="smallButtons">
        <button id="scaleBtn">[ ]</button>
        <button id="settingsBtn">⚙️</button>
    </div>

    <div id="overlay" class="overlay">
        <div class="settings-container">
            <h2>Settings</h2>

            <div class="category">
                <h3>Controls</h3>
                <div>
                    <ul>
                        <li>Move mouse = Aim car</li>
                        <li>WASD = Move car around</li>
                        <li>Left click (or F) = Flip</li>
                        <li>R = Backwards flip</li>
                        <li>Space (or Right click) = Boost</li>
                        <li>Scroll = Zoom in or out</li>
                    </ul>

                    <strong>Keyboard mode</strong>
                    <ul>
                        <li>Arrow keys = Drive car</li>
                        <li>WASD = Move car around</li>
                        <li>Space = Boost</li>
                        <li>F = Flip</li>
                        <li>R = Backwards flip</li>
                        <li>Shift = Tight turn</li>
                    </ul>
                </div>
            </div>
            <div class="category">
                <h3>Fun Presets</h3>
                <div class="setting">
                    <label for="presets">Presets:</label>
                    <div id="presets">
                        <button id="arrowKeysFR">Arrow Keys & F & R</button>
                        <button id="keyboardControls">Keyboard controls</button>
                        <button id="mouseControls">Mouse controls</button>
                        <button id="noBoostFlip">No boost or flip</button>
                        <button id="reset">Reset</button>
                    </div>
                </div>
            </div>
            <div class="category">
                <h3>Gameplay</h3>
                <div class="setting">
                    <label for="bots">Bots:</label>
                    <div id="bots">
                        <button id="spawnBlueBot">Blue Bot</button>
                        <button id="spawnRedBot">Red Bot</button>
                    </div>
                </div>
                <div class="setting">
                    <button id="startGame" class="start-btn">Start Game</button>
                    <button id="endGame" class="end-btn">End Game</button>
                </div>
                <div class="setting">
                    <label for="team">Team:</label>
                    <select id="team">
                        <option value="blue">Blue</option>
                        <option value="red">Red</option>
                    </select>
                </div>
                <div class="setting">
                    <label for="mouseSensitivity">Mouse Sensitivity:</label>
                    <input type="number" id="mouseSensitivity" step="0.01" value="1.5">
                </div>
                <div class="setting">
                    <div id="mouseRangeDiv">
                        <label for="mouseRange">Mouse Range:</label>
                        <small>How far the mouse can travel from the car</small>
                    </div>

                    <input type="number" id="mouseRange" value="300">
                </div>
                <div class="setting">
                    <button id="leaveGame">Leave game</button>
                </div>
            </div>

            <div id="saveBtnContainer">
                <button id="saveBtn">Save</button>

            </div>
            <button id="closeBtn">Close</button>
        </div>
    </div>



    <div id="gameStatsPopup">
        <button id="closeStats">&times;</button>
        <h2 id="gameType"></h2>
        <div>
            <div class="team-label left-team">Left (Blue)</div>
        </div>

        <div class="stats-container">
            <table class="stats-table">
                <thead>
                    <tr>
                        <th>Player</th>
                        <th>Goals</th>
                        <th>Ball Touches</th>
                        <th>Flips Used</th>
                        <th>Boost Used</th>
                    </tr>
                </thead>
                <tbody id="leftStatsBody"></tbody>
            </table>
        </div>

        <div>
            <div class="team-label right-team">Right (Red)</div>
        </div>

        <div class="stats-container">
            <table class="stats-table">
                <thead>
                    <tr>
                        <th>Player</th>
                        <th>Goals</th>
                        <th>Ball Touches</th>
                        <th>Flips Used</th>
                        <th>Boost Used</th>
                    </tr>
                </thead>
                <tbody id="rightStatsBody"></tbody>
            </table>
        </div>
    </div>




    <div id="game">

        <div id="chat">
            <textarea id="chatLog" readonly></textarea>
            <input id="chatInput" type="text">
        </div>

        <div id="tsparticles"></div>
        <canvas id="gameCanvas"></canvas>

        <div id="gameInfo">
            <div id="countdown"></div>

            <div id="leftScore">0</div>
            <div id="rightScore">0</div>

            <div id="timer"></div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="Camera.js" type="module"></script>
    <script src="client.js" type="module" defer></script>
</body>

</html>